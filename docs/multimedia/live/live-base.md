# 音视频直播基础

下面总结一下音视频常见的基础概念。

## 比特率

比特率（bit rate），又叫码率，表示每秒钟输出多少 KB 的数据，单位是 Kbps。也就是 kbit/s。换算规则：8Kbit/s = 1KB/s。

比如 800Kbps 意思就是每秒视频就要占用 100KB 磁盘空间。

对于音频文件也存在比特率，MP3 一般使用的比特率为 8~320kbps。

H.264 标准建议：

| 视频大小 | 分辨率    | 建议码率 |
| -------- | --------- | -------- |
| 480P     | 720X480   | 1800Kbps |
| 720P     | 1280X720  | 3500Kbps |
| 1080P    | 1920X1080 | 8500Kbps |

## 帧率

帧率，也叫帧数，指的是视频每秒钟播放的图片数量，单位 fps（英文：Frames Per Second）。

高的帧率可以得到更流畅、更逼真的画面。

一般情况下，如果能够保证游戏/直播画面的平均 FPS 能够达到 30 帧 / 秒，那么画面已经基本流畅；如果 FPS 能达到 60 帧 / 秒时，那么表现会非常丝滑。

在同一视频，同一码率的情况下，帧数越大，则画质越不好。尤其是运动的画面。

因为每张画面会分担每秒有限的文件体积，如果画面越多，那么每张画面所能表现的内容就越有限。

## 分辨率

一张图片是由许多个像素点组成的，分辨率就是指这张图片有多少个像素点。

一般我们说的 1920x1080，是指横向有 1920 个像素、纵向有 1080 个像素。

越高的分辨率，需要越高的码率，因为图像的细节多了，需要的文件体积也应该增大；否则还不如画面小一些。

同一码率，画面越大，图像的马赛克程度越明显（分辨率要与码率正相关）。

## 采样率

采样率是音频音频指标，表示每秒钟对音频信号的采样次数，单位是赫兹 Hz。

采样频率越高声音还原度越高，声音更加自然。

音频文件一般使用的采样率是 44100 Hz ，也就是一秒钟采样 44100 次。

## 软编码与硬编码

Android 系统下视频编码有硬编和软编两种方式。顾名思义，硬编是通过手机提供的硬件模块进行编码；软编就是通过软件程序进行编码。

- 软编码：使用 CPU 进行编码。
- 硬编码：使用非 CPU 进行编码，如显卡 GPU、专用的 DSP、FPGA、ASIC 芯片等。

在移动端通过 Camera 采集到视频数据后，不会直接发送出去。因为采集后的视频数据量非常大，比如 1280x720 分辨率的一帧数据，就有可能达到 6M 大小（码率越高，图像越清晰）。

另外，人眼对图像的识别是有限的。拿手机屏幕来说，1K 屏与 2K 屏对于人眼来说是看不出来区别的，视频也是同样的道理。视频的压缩编码技术，通过对视频的有损压缩，减少数据大小。

视频缩码最常用的是 H264，H265，VP8, VP9 等。
